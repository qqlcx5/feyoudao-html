(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{282:function(s,a,e){"use strict";e.r(a);var t=e(0),n=Object(t.a)({},function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"npm中常用命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm中常用命令","aria-hidden":"true"}},[s._v("#")]),s._v(" NPM中常用命令")]),s._v(" "),e("p",[s._v("全称node package manager是世界上最大规模的包管理系统,官网是这样介绍的 "),e("em",[s._v("Build amazing things")]),s._v("...")]),s._v(" "),e("h2",{attrs:{id:"一-npm-init"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一-npm-init","aria-hidden":"true"}},[s._v("#")]),s._v(" 一.npm init")]),s._v(" "),e("p",[s._v("默认大家肯定比较熟悉了，直接 "),e("code",[s._v("npm init -y")]),s._v("了事，这回我们再来仔细看看")]),s._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my-pack"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.0"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"main"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"index.js"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"license"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ISC"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[s._v("这里先声明的npm 版本是"),e("strong",[s._v("6.7.0")]),s._v(",因为我的node版本是"),e("strong",[s._v("v11.14.0")])]),s._v(" "),e("p",[s._v("咱们来一个个说说这里比较重要的字段:"),e("code",[s._v("name")]),s._v("、"),e("code",[s._v("version")]),s._v("、"),e("code",[s._v("main")]),s._v("、"),e("code",[s._v("scripts")]),s._v("、"),e("code",[s._v("license")])]),s._v(" "),e("ul",[e("li",[s._v("name是当前包的名字，也就是最终发布的npm官网上包的名字。不能和已有的包重名哦")]),s._v(" "),e("li",[s._v("version就是当前包的版本号，主要我们要探究如果优雅的管理版本号")]),s._v(" "),e("li",[s._v("main 就是当前包的入口文件，也就是使用"),e("strong",[s._v("require")]),s._v("默认引入的文件")]),s._v(" "),e("li",[s._v("scripts 可以配置一些执行脚本")]),s._v(" "),e("li",[s._v("license 协议许可")])]),s._v(" "),e("h2",{attrs:{id:"二-npm-install"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二-npm-install","aria-hidden":"true"}},[s._v("#")]),s._v(" 二.npm install")]),s._v(" "),e("h3",{attrs:{id:"_1-全局安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-全局安装","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.全局安装")]),s._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[s._v("npm install http"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("server "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("g\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("全局安装的意思很简单,就是安装的模块会被安装到全局下，可以在命令行中直接使用安装的包,其实只是在**/user/local/bin"),e("strong",[s._v("目录下作了个链接连接到 "),e("strong",[s._v("/usr/local/lib/node_modules/http-server/bin/http-server")]),s._v("这个文件，当我们执行")]),s._v("http-server**这个命令时，会调用链接的这个文件。")]),s._v(" "),e("p",[s._v("mac因为有权限问题，这里我们加"),e("code",[s._v("sudo")]),s._v("来执行命令")]),s._v(" "),e("p",[s._v("我们可以自己来尝试写一个包 ,创建bin目录，新增www文件,名字叫什么无所谓~")]),s._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[s._v("#"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("env node\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'珠峰架构'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// #! 这句表示采用node来执行此文件，同理 shell可以表示 sh")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("更新package.json文件")]),s._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"bin"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"my-pack"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./bin/www"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这里要注意名字和你建立的文件夹相同")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("好啦，写好啦！这里我们先不说发包的事，先用一个常用的命令，他可以实现链接的功能")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("这样我们在命令行中直接输入my-pack就可以 打印出"),e("strong",[s._v("珠峰架构")])]),s._v(" "),e("h3",{attrs:{id:"_2-本地安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-本地安装","aria-hidden":"true"}},[s._v("#")]),s._v(" 2.本地安装")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" webpack --save-dev\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("本地安装很好理解啦~ 就是所谓的在项目中使用，而非在命令行中使用！这里我们看到生成了一个"),e("strong",[s._v("package-lock.json文件")]),s._v("，而且将安装的模块放到了"),e("strong",[s._v("node_modules")]),s._v("下,而且json中也新增了些内容")]),s._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"devDependencies"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"webpack"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^4.39.3"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("这里我们先来简单介绍下基本的使用")]),s._v(" "),e("p",[e("code",[s._v("--save-dev")]),s._v("代表当前依赖只在开发时被应用,如果默认不写相当于 "),e("code",[s._v("--save")]),s._v("为项目依赖开发上线都需要")]),s._v(" "),e("p",[s._v("也可以指定版本号来安装包")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i jquery@2.2.0 "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# install可以简写成i")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("默认执行"),e("code",[s._v("npm i")]),s._v("会安装项目中所需要的依赖,如果只想安装生产环境依赖可以增加"),e("code",[s._v("--production")]),s._v("参数")]),s._v(" "),e("h2",{attrs:{id:"三-package-lock文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三-package-lock文件","aria-hidden":"true"}},[s._v("#")]),s._v(" 三.package-lock文件")]),s._v(" "),e("p",[s._v("自npm 5之后所有的依赖包都采用扁平化管理的方式"),e("br"),s._v(" "),e("code",[s._v("package-lock.json")]),s._v(" 的作用是锁定依赖安装结构,保证在任意机器上执行 "),e("em",[s._v("npm install")]),s._v(" 都会得到完全相同的 "),e("code",[s._v("node_modules")]),s._v(" 结果,因为"),e("code",[s._v("package-lock.json")]),s._v("存储所有安装的信息")]),s._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my-pack"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.0"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lockfileVersion"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"requires"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dependencies"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"@webassemblyjs/ast"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.8.5"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 当前依赖的版本")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"resolved"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://registry.npm.taobao.org/@webassemblyjs/ast/download/@webassemblyjs/ast-1.8.5.tgz"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 从哪个渠道安装的")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"integrity"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sha1-UbHF/mV2o0lTv0slPfnw1JDZ41k="')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 内容hash")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dev"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"requires"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"@webassemblyjs/helper-module-context"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.8.5"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"@webassemblyjs/helper-wasm-bytecode"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.8.5"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"@webassemblyjs/wast-parser"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.8.5"')]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n....\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br")])]),e("p",[s._v("如果手动更新了"),e("code",[s._v("package.json")]),s._v("文件,执行安装命令会下载对应的新版本,并且会自动更新lock文件~")]),s._v(" "),e("h2",{attrs:{id:"四-依赖方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四-依赖方式","aria-hidden":"true"}},[s._v("#")]),s._v(" 四.依赖方式")]),s._v(" "),e("p",[s._v("简单介绍下常见的依赖方式：")]),s._v(" "),e("h3",{attrs:{id:"_1-dependencies-项目依赖"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-dependencies-项目依赖","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.dependencies 项目依赖")]),s._v(" "),e("p",[s._v("可以使用"),e("code",[s._v("npm install -S")]),s._v("或 "),e("code",[s._v("npm install --save")]),s._v("保存到依赖中，当发布到npm上时dependencies下的模块会作为依赖，一起被下载!")]),s._v(" "),e("h3",{attrs:{id:"_2-devdependencies-开发依赖"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-devdependencies-开发依赖","aria-hidden":"true"}},[s._v("#")]),s._v(" 2.devDependencies 开发依赖")]),s._v(" "),e("p",[s._v("可以使用"),e("code",[s._v("npm install -D")]),s._v("或 "),e("code",[s._v("npm install --save-dev")]),s._v("保存到依赖中。\n当发布到npm上时devDependencies下面的模块就不会自动下载了,如果只是单纯的开发项目dependencies,devDependencies只有提示的作用!")]),s._v(" "),e("h3",{attrs:{id:"_3-peerdependencies-同版本依赖"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-peerdependencies-同版本依赖","aria-hidden":"true"}},[s._v("#")]),s._v(" 3.peerDependencies 同版本依赖")]),s._v(" "),e("p",[s._v("同等依赖,如果你安装我，那么你最好也安装我对应的依赖，如果未安装会报出警告\n"),e("code",[s._v('bash "peerDependencies": { "jquery": "2.2.0" }')])]),s._v(" "),e("blockquote",[e("p",[s._v("npm WARN youxuan@1.0.0 requires a peer of jquery@2.2.0 but none is installed. You must install peer dependencies yourself.")])]),s._v(" "),e("h3",{attrs:{id:"_4-bundleddependencies-捆绑依赖"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-bundleddependencies-捆绑依赖","aria-hidden":"true"}},[s._v("#")]),s._v(" 4.bundledDependencies 捆绑依赖")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bundleDependencies"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jquery"')]),s._v("\n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("使用"),e("code",[s._v("npm pack")]),s._v(" 打包tgz时会将捆绑依赖一同打包")]),s._v(" "),e("h3",{attrs:{id:"_5-optionaldependencies-可选依赖"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-optionaldependencies-可选依赖","aria-hidden":"true"}},[s._v("#")]),s._v(" 5.optionalDependencies 可选依赖")]),s._v(" "),e("p",[s._v("如果发现无法安装或无法找到，不会影响npm的安装")]),s._v(" "),e("h2",{attrs:{id:"五-npm版本管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#五-npm版本管理","aria-hidden":"true"}},[s._v("#")]),s._v(" 五.npm版本管理")]),s._v(" "),e("p",[s._v("npm采用了semver规范作为依赖版本管理方案。semver 约定一个包的版本号必须包含3个数字")]),s._v(" "),e("p",[e("code",[s._v("MAJOR.MINOR.PATCH")]),s._v("  意思是 "),e("code",[s._v("主版本号.小版本号.修订版本号")])]),s._v(" "),e("ul",[e("li",[s._v("MAJOR 对应大的版本号迭代，做了不兼容旧版的修改时要更新 MAJOR 版本号")]),s._v(" "),e("li",[s._v("MINOR 对应小版本迭代，发生兼容旧版API的修改或功能更新时，更新MINOR版本号")]),s._v(" "),e("li",[s._v("PATCH 对应修订版本号，一般针对修复 BUG 的版本号")])]),s._v(" "),e("p",[s._v("当我们每次发布包的时候都需要升级版本号")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version major  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 大版本号加 1，其余版本号归 0")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version minor  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 小版本号加 1，修订号归 0")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version patch  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修订号加 1")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("如果使用git管理项目会自动 "),e("code",[s._v("git tag")]),s._v(" 标注版本号")]),s._v(" "),e("p",[s._v("来看看版本号的标识含义:")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("range")]),s._v(" "),e("th",[s._v("含义")]),s._v(" "),e("th",[s._v("例")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[e("code",[s._v("^2.2.1")])]),s._v(" "),e("td",[s._v("指定的 MAJOR 版本号下, 所有更新的版本")]),s._v(" "),e("td",[s._v("\b匹配 "),e("code",[s._v("2.2.3")]),s._v(", "),e("code",[s._v("2.3.0")]),s._v("; 不匹配 "),e("code",[s._v("1.0.3")]),s._v(", "),e("code",[s._v("3.0.1")])])]),s._v(" "),e("tr",[e("td",[e("code",[s._v("~2.2.1")])]),s._v(" "),e("td",[s._v("指定 MAJOR.MINOR 版本号下，所有更新的版本")]),s._v(" "),e("td",[s._v("匹配 "),e("code",[s._v("2.2.3")]),s._v(", "),e("code",[s._v("2.2.9")]),s._v(" ; 不匹配 "),e("code",[s._v("2.3.0")]),s._v(", "),e("code",[s._v("2.4.5")])])]),s._v(" "),e("tr",[e("td",[e("code",[s._v(">=2.1")])]),s._v(" "),e("td",[s._v("版本号大于或等于 "),e("code",[s._v("2.1.0")])]),s._v(" "),e("td",[s._v("匹配 "),e("code",[s._v("2.1.2")]),s._v(", "),e("code",[s._v("3.1")])])]),s._v(" "),e("tr",[e("td",[e("code",[s._v("<=2.2")])]),s._v(" "),e("td",[s._v("版本号小于或等于 "),e("code",[s._v("2.2")])]),s._v(" "),e("td",[s._v("匹配 "),e("code",[s._v("1.0.0")]),s._v(", "),e("code",[s._v("2.2.1")]),s._v(", "),e("code",[s._v("2.2.11")])])]),s._v(" "),e("tr",[e("td",[e("code",[s._v("1.0.0 - 2.0.0")])]),s._v(" "),e("td",[s._v("版本号\b从 1.0.0 (含) 到 2.0.0 (含)")]),s._v(" "),e("td",[s._v("匹配 "),e("code",[s._v("1.0.0")]),s._v(", "),e("code",[s._v("1.3.4")]),s._v(", "),e("code",[s._v("2.0.0")])])])])]),s._v(" "),e("p",[s._v("预发版：")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("alpha(α)：预览版，或者叫内部测试版；一般不向外部发布，会有很多bug；一般只有测试人员使用。")])]),s._v(" "),e("li",[e("p",[s._v("beta(β)：测试版，或者叫公开测试版；这个阶段的版本会一直加入新的功能；在alpha版之后推出。")])]),s._v(" "),e("li",[e("p",[s._v("rc(release candidate)：最终测试版本；可能成为最终产品的候选版本，如果未出现问题则可发布成为正式版本。")])])]),s._v(" "),e("p",[e("code",[s._v("2.1.0-beta.1")]),s._v("这样声明的版本用户不会立马使用，可以用来做测试使用")]),s._v(" "),e("h2",{attrs:{id:"六-scripts配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#六-scripts配置","aria-hidden":"true"}},[s._v("#")]),s._v(" 六.scripts配置")]),s._v(" "),e("p",[s._v("在package.json中可以定义自己的脚本通过"),e("em",[s._v("npm run")]),s._v("来执行")]),s._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"hello"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echo hello"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("我们可以使用 "),e("code",[s._v("npm run hello")]),s._v("执行脚本,也可以使用 "),e("code",[s._v("npm run build")]),s._v("执行"),e("code",[s._v("node_modules/.bin")]),s._v("目录下的webpack文件")]),s._v(" "),e("ul",[e("li",[e("p",[e("code",[s._v("npm run")]),s._v(" 命令执行时，会把 "),e("code",[s._v("./node_modules/.bin/")]),s._v(" 目录添加到执行环境的 "),e("code",[s._v("PATH")]),s._v(" 变量中，因此如果某个"),e("strong",[s._v("命令行包")]),s._v("未全局安装，而只安装在了当前项目的 node_modules 中，通过 "),e("code",[s._v("npm run")]),s._v(" 一样可以调用该命令。")])]),s._v(" "),e("li",[e("p",[s._v("执行 npm 脚本时要传入参数，需要在命令后加 "),e("code",[s._v("--")]),s._v(" 标明, 如 "),e("code",[s._v("npm run hello -- --port 3000")]),s._v(" 可以将 "),e("code",[s._v("--port")]),s._v(" 参数传给"),e("code",[s._v("hello")]),s._v(" 命令")])]),s._v(" "),e("li",[e("p",[s._v("npm 提供了 pre 和 post 两种钩子机制，可以定义某个脚本前后的执行脚本,没有定义默认会忽略")]),s._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"prehello"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echo prehello"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"hello"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echo hello"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"posthello"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echo posthello"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])])])]),s._v(" "),e("p",[s._v("可以通过打印"),e("code",[s._v("全局env")]),s._v("和 在项目下执行"),e("code",[s._v("npm run env")]),s._v("来对比"),e("code",[s._v("PATH")]),s._v("属性，不难发现在执行npm run 的时候确实会将 "),e("code",[s._v("./node_modules/.bin/")]),s._v(" 目录添加到"),e("code",[s._v("PATH中")])]),s._v(" "),e("h2",{attrs:{id:"七-协议"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#七-协议","aria-hidden":"true"}},[s._v("#")]),s._v(" 七.协议")]),s._v(" "),e("p",[e("img",{attrs:{src:"http://www.ruanyifeng.com/blogimg/asset/201105/bg2011050101.png",alt:"img"}})]),s._v(" "),e("p",[s._v("不废话，这张图就说明了为什么MIT许可是最大的了!")]),s._v(" "),e("h2",{attrs:{id:"八-npx用法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#八-npx用法","aria-hidden":"true"}},[s._v("#")]),s._v(" 八.npx用法")]),s._v(" "),e("p",[s._v("npx命令是npm v5.2之后引入的新命令，npx可以帮我们直接执行"),e("code",[s._v("node_modules/.bin")]),s._v("文件夹下的文件")]),s._v(" "),e("h3",{attrs:{id:"_1-执行脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-执行脚本","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.执行脚本")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("npx webpack\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("是不是省略了配置"),e("code",[s._v("scripts")]),s._v("脚本啦！")]),s._v(" "),e("h3",{attrs:{id:"_2-避免安装全局模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-避免安装全局模块","aria-hidden":"true"}},[s._v("#")]),s._v(" 2.避免安装全局模块")]),s._v(" "),e("p",[s._v("全局安装的模块会带来很多问题，例如：多个用户全局安装的模块版本不同")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("npx create-react-app react-project\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("我们可以直接使用 "),e("code",[s._v("npx")]),s._v(" 来执行模块，它会先进行安装，安装执行后会将下载过的模块删除~，这样可以一直使用最新版本啦~")]),s._v(" "),e("h2",{attrs:{id:"九-包的发布"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#九-包的发布","aria-hidden":"true"}},[s._v("#")]),s._v(" 九.包的发布")]),s._v(" "),e("p",[s._v("包的发布比较简单，首先我们需要先切换到官方源,这里推荐个好用的工具nrm")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nrm -g\nnrm use "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到官方源")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("之后更新名字哈，这里也可以发布 "),e("a",{attrs:{href:"https://docs.npmjs.com/creating-and-publishing-scoped-public-packages",target:"_blank",rel:"noopener noreferrer"}},[s._v("作用域包"),e("OutboundLink")],1),s._v(" 选定版本后,忽略文件夹可以使用 "),e("code",[s._v(".npmignore")]),s._v(",一切就绪后，发布！！！")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" publish\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("ok，我们的包就可以成功的发布到npm上啦~")])])},[],!1,null,null,null);a.default=n.exports}}]);